<!DOCTYPE html>
<html>

<head>
    <title>DECA Quizzler</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" href="assets/images/LOGO.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@100;400;700&family=Poppins:wght@100;400;700&display=swap" rel="stylesheet">
    <meta name="viewport" content="width=device-width,initial-scale=0.5">

</head>


<body>
    <nav class="navbar">  
        <ul class="sidebar">
            <li class="sidebarHeader">
                <h3>Sectors</h3>
                <a><svg class="closeSidebar" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#fff"><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></a>
            </li>
            <li>
                <a class= "sidebarItem" href="ENT.html">ENTREPRENEURSHIP</a>
            </li>
            <li>
                <a class= "sidebarItem" href="FIN.html">FINANCE</a>
            </li>
            <li>
                <a class= "sidebarItem" href="MKT.html">MARKETING</a>
            </li>
            <li>
                <a class= "sidebarItem" href="H&T.html">HOSTPITALITY AND TOURSIM</a>
            </li>
            <li>
                <a class= "sidebarItem" href="BMA.html">BUSINESS MANAGEMENT AND ADMINISTRATION</a>
            </li>
            <li>
                <a class= "sidebarItem" href="CORE.html">PRINCIPLES/CORE</a>
            </li>
        </ul>

        <ul>
            <div> 
                <div id="logo"><a href= "index.html">DECA Quizzler</a></div>
                <li>
                    <div class="dropdown">
                        <a class= "dropbtn" href="ENT.html">ENT ▼</a>
                        <div class="grid-container"> </div>
                    </div>
                </li>
                
                <li>
                    <div class="dropdown">
                        <a class= "dropbtn" href="FIN.html">FIN ▼</a>
                        <div class="grid-container" id="finGrid"> </div>
                    </div>
                </li>
                <li>
                    <div class="dropdown">
                        <a class= "dropbtn" href="MKT.html">MKT ▼</a>
                        <div class="grid-container" id="mktGrid"> </div>
                    </div>
                </li>
                <li>
                    <div class="dropdown">
                        <a class= "dropbtn" href="H&T.html">H&T ▼</a>
                        <div class="grid-container" id="hosptGrid"> </div>
                    </div>
                </li>
                <li>
                    <div class="dropdown">
                        <a class= "dropbtn" href="BMA.html">BMA ▼</a>
                        <div class="grid-container" id="bmaGrid"> </div>
                    </div>
                </li>
                <li>
                    <div class="dropdown">
                        <a class= "dropbtn" href="CORE.html">CORE ▼</a>
                        <div class="grid-container" id="coreGrid"> </div>
                    </div>
                </li>
            </div>
            <div class="navbar-div"> 
                <div class="search-box">
                    <div class="row">
                        <input type="text", id="input" placeholder="Search" autocomplete="off">
                        <button class="search-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368"><path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/></svg></button> 
                    </div>
                    <div class="result-box"></div>
                </div>
                <li class="toggle"><svg xmlns="http://www.w3.org/2000/svg" height="26px" viewBox="0 -960 960 960" width="26px" fill="#fff"><path d="M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z"/></svg></li>
            </div>
        </ul>
    </nav>

    <main>  
        <h1>H&T Exams</h1>
        <p class="header-subtext">
            You can find all the H&T exams here
        </p>
        <h3 class="paddedHeading" id="icdc-exams">ICDC Exams</h3>
        <div class="icdcExams"></div>
        <h3 class="paddedHeading" id="sample-exams">Sample Exams</h3>
        <div class="sampleExams"></div>
        <h3 class="paddedHeading" id="other-exams">Other Exams</h3>
        <div class="otherExams"></div>
        <h3 class="paddedHeading" id="unit-exam">Unit Exam</h3>
        <div class="unitExam"></div>
        </div>
    </main>
    <script src="populateNavBar.js"></script>
    <script src="countVists.js"></script>

    <script>
        const dropdown = document.querySelector(".dropdown .grid-container");
        const otherExams = document.querySelector(".otherExams");
        const icdcExams = document.querySelector(".icdcExams");
        const sampleExams = document.querySelector('.sampleExams');
        const unitExam = document.querySelector('.unitExam');

        if(sessionStorage.getItem("H&T") != null){
            let storedExams = sessionStorage.getItem("H&T").split(',');
            for (const item of storedExams){
                const words = item.split('-');
                const ending = words[words.length-1];
                if(ending === "ICDC"){
                    icdcExams.innerHTML += `
                    <li>
                        <a href = "quiz.html?exam=${item}">${item}</a>
                    </li>
                `;
                }else if(ending === "SAMPLE"){
                    sampleExams.innerHTML += `
                    <li>
                        <a href = "quiz.html?exam=${item}">${item}</a>
                    </li>
                `;
                }else if(ending === "UNIT"){
                    unitExam.innerHTML += `
                    <li>
                        <a href = "quiz.html?exam=${item}">${item}</a>
                    </li>
                `;
                }else{
                    otherExams.innerHTML += `
                    <li>
                        <a href = "quiz.html?exam=${item}">${item}</a>
                    </li>
                `;
                }
            }
            if (otherExams.childElementCount !== 0){
                const examsHeading = document.getElementById("other-exams");
                examsHeading.style.display = "block";
            }
            if (icdcExams.childElementCount !== 0){
                const examsHeading = document.getElementById("icdc-exams");
                examsHeading.style.display = "block";
            }
            if (sampleExams.childElementCount !== 0){
                const examsHeading = document.getElementById("sample-exams");
                examsHeading.style.display = "block";
            }
            if (unitExam.childElementCount !== 0){
                const unitExamHeading = document.getElementById("unit-exam");
                unitExamHeading.style.display = "block";
            }
        }else{
            fetch("data/HnT.json")
            .then(response => response.json())
            .then(data => {
                let exams = Object.keys(data);
                exams.push("9999-HnT-UNIT");

                for(const key of exams){
                    const words = key.split('-');
                    const ending = words[words.length-1];
                    if(ending === "ICDC"){
                        icdcExams.innerHTML += `
                        <li>
                            <a href = "quiz.html?exam=${key}">${key}</a>
                        </li>
                    `;
                    }else if(ending === "SAMPLE"){
                        sampleExams.innerHTML += `
                        <li>
                            <a href = "quiz.html?exam=${key}">${key}</a>
                        </li>
                    `;
                    }else if(ending === "UNIT"){
                        unitExam.innerHTML += `
                        <li>
                            <a href = "quiz.html?exam=${key}">${key}</a>
                        </li>
                    `;
                    }else{
                        otherExams.innerHTML += `
                        <li>
                            <a href = "quiz.html?exam=${key}">${key}</a>
                        </li>
                    `;
                    }
                }
                if (otherExams.childElementCount !== 0){
                    const examsHeading = document.getElementById("other-exams");
                    examsHeading.style.display = "block";
                }
                if (icdcExams.childElementCount !== 0){
                    const examsHeading = document.getElementById("icdc-exams");
                    examsHeading.style.display = "block";
                }
                if (sampleExams.childElementCount !== 0){
                    const examsHeading = document.getElementById("sample-exams");
                    examsHeading.style.display = "block";
                }
                if (unitExam.childElementCount !== 0){
                    const unitExamHeading = document.getElementById("unit-exam");
                    unitExamHeading.style.display = "block";
                }
                
                sessionStorage.setItem("H&T", exams);
            });
        }
        
    </script>


</body>

</html>